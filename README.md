# MeliIpRequest
Este proyecto es la prueba de desarrollo para participar en proceso de selección con Mercado Libre.

El comando de ejecución del aplicativo desde terminal es el siguiente:

mvn spring-boot:run -Dspring-boot.run.jvmArguments="-DAPI_EXCHANGE_ACCESS_KEY=ede902f3a4fb76bf9465b5692b823c7a -DAPI_EXCHANGE_URL=http://data.fixer.io/api/latest -DAPI_LOCALIZATOR_ACCESS_KEY=33cb4cbcb239a0eae8bc72a9c57381b7 -DAPI_LOCALIZATOR_URL=http://api.ipapi.com/api/" -Dspring-boot.run.arguments="201.244.109.55 BUSCAR"

Consta de dos parámetros de entrada que son la IP y la estrategia de ejecución según el patrón "Strategy". Las opciones son "BUSCAR", "COMPRAR", "PAGAR"; considerando que el microservicio se utiliza en los tres escenarios y puede personalizarse la estrategia a cada una de las opciones.

Los servicios para obtener las distancas están expuestos en servicios REST mediante un controlador y consumen la base de datos del aplicativo construida en SQLServer. Se adjunta la instrucción SQL para crear la tabla.

La IP introducida está localizada en Bogotá, el programa se corre desde linea de comandos y el argumento puede variar.

Inicialmente se valida que la IP cumpla con un formato válido.

Posteriormente se consumen las API's para obtener la información relevante y construir la respuesta esperada.

Existen unos endpoints expuestos a consumo desde un cliente como Postman (para efectos de prueba) con los que se pueden 
obtener los datos de distancia más lejana, más cercana y promedio.

Se realizaron dos tipos diferentes de mapeo de data a partir de un servicio a un consumo externo.

Se implementaron logs y control de excepciones.

Implementación de patrones de diseño y principios SOLID.


CREATE TABLE distancias (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    pais VARCHAR(255) NOT NULL,
    distancia FLOAT NOT NULL,
    invocaciones INT DEFAULT 0,
    version INT,
    CONSTRAINT CHK_Distancias_Distancia CHECK (distancia >= 0)
);



KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKXXKKKKKKKKKKKKKXKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKXK0OkxdoolllllllllllllooooddkO0KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK0kdollllllooddxkkkkOOOkkkkxxdoollllllloxOKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKXKkdllllodkO0KKXXKKKKKXXXKKKKXKKKKKKXXXK0Okdolcclok0KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKXK0xlccldk0XXXKKKKKKKXKKKXXXXXXXXKXXKKKKKKKKKKKXXKKOxllcldOKXXKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKK0kl;cdOKKKXXXXKKKKKKKKKKKKOxolloollllloxOKKKKKKKKKKKKKXKOdlclx0KKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKK0dcclcclodxO0KXXXXXKXK0OOxoccoxO0KKKK00kxolccldk0KKKKXKKK0kxo:;;coOKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKd:cONWWX0xdolllllooollll;';o0NWWWWNNNNWWMMMWXOxollllllllllooodkKN0o:oOKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKOc:kNWWWMMMMWMWNX0OkxxkOxc:dKWWWWKdlloollokNWWWWWMMWNXK00KXNWWMMWWWWW0c:xKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKXKx;lKWWWWWWMMMMMMMWMMMWWXo:dKWWWXxccokKXNXKxlco0WWWWMMMMMMMMWMMWWMMWWMWWNd;oKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKk;oNWWMWWWMMMMMMMMWMMMMWd'l0K0koclkXWWWWMMMMWKdclkXWWWMMMMMMMMMMMMMMMMMWMWk;oKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKO;cXMMWMMMMWMMMMWMMMMMMMMNOdddookKWMMMMMMMMMMMWWXxccxKWMWMMMWWMMMMMMMMMWMMWWd,xKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKXd.;dkO0XWWWWWWMMMMMMMMMMMMWMMWMMMMMMMMMMMMMMMMMMWWNOoco0WWWWWWMMMMMMMMWWWX0Oo'cKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKXKl'lolllllooxOKWMMMMMMMMMMMMWMMMMMMMMMMMMMMMMMMMMMWWWWKd:lONWWWWMMWNKOdollcccl,;OXKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKc,kXXXK0Okdolllox0NN0k0XWWNNWMMMMMMMMMMMMMMMMMMMMWNNWWWXxlcdXX0xollccldkO0KXK:;OKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKl'dKKKKKKKKKKKOxlc:codoccooood0XXNWMMMMMWMMMMMMWWW0ddKWWWNOl:;:ldk0KKKXKKKKXO,;0KKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKd.:0XKKXKKKKKKKXXx,dWWW0x0NN0l:odlo0WMMMMMMWWWMWWMWXklo0WWWNx,oXKKKKKKXXKKKKl.cKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKK0;.c0KKXKKKKKKXKKOc:xOx0WWWWWNXNWXl:0WWMMMMMMMXkOWWWWXxclxkxc:kXKKKKKKKKKKKd.'xKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKx'.:OKKKKKKKKXKKK0xol,cXWWWWWWWWWx,coxXWWWWWMWOloONWWW0,,lld0XKKKKKKKKKK0o..lKXKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKd'.,d0KKKKKKKKKKKKKXOc:odokWWWWWX00Ol:cOXkkXWWNkccxkxc:kKXKKKKKXXKKKKKk:..c0XKKXKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKx'..:x0KXKKKKKKKKKKXKOxdc:oxkd0WWWWXc.lNKdlxXNNd';lox0KKKKKXKKKKKKKkc...l0KKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKkc...;oOKKKKKKKKKKXKKXXKOdll::xKK0o,.:x00l':olcd0XXXKKKKKKKKKKK0d:'..,dKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKx;...':oO0KXKKKKKKKKKKKKXXKxlllloxxdlllldO00KKKKKKKKKKKKXKOdc,...,o0KKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKK0x:.....;cdk0KXXKKKKKKKKKKKXXKKKKKXXXXXXXKKKKKKKKKXKKOxl;'....;oOKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKK0ko:'.....,:ldxk0KXXXXXKKKKKKKKKKKKKKXXXXXKK0Okdl:;'.....;lx0KKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKkdc,........';:cloddxxkkkOOOkkkkxddolc:;,'.......,:lkKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK0kdl:,'.................................',:lox0KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK0Okdolc:;,'''...........'',,;:clodxO0KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK00OOkkkkkxxkkkkOO00KKKXKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
